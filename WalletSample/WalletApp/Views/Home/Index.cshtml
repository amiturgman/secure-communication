@{
    ViewData["Title"] = "Home Page";
}

@using WalletApp.Models

<h3>Create Account</h3>
<form action="/home/CreateAccountAsync">
    <ul class="form-style-1">
        <li><label>User Id</label><input type="text" name="SenderId" class="field-divided" /></li>

        <li>
            <input type="submit" value="Submit" />
        </li>
        @if (ViewBag != null && ViewBag.model != null && ViewBag.model.WalletAddress != null && ViewBag.model.Balance == 0)
    {
        <li>
            <div class="success">Account Created!</div>
            <div>Public Address: @ViewBag.model.WalletAddress</div>
            <div>To Transfer Ether to this address follow the instructions <a href="https://www.rinkeby.io/#faucet" target="_blank">here</a> </div>
        </li>
}

    </ul>
</form>

<hr />
<h3>Get Balance</h3>
<form action="/home/GetBalanceAsync">
    <ul class="form-style-1">
        <li>Fill in the User Id <b>OR</b> the Wallet Address to get the balance:</li>
        <li>
            <label>User Id:</label><input type="text" name="SenderId" class="field-divided" placeholder="id123"
                                                 value=@((ViewBag == null || ViewBag.model == null || ViewBag.model.SenderId == null) ? "" : ViewBag.model.SenderId )>
        </li>
        <li>
            <b>OR</b>
        </li>
        <li>
            <label>Wallet address:</label><input type="text" name="WalletAddress" class="field-divided" placeholder="0xXXXXXXX"
                                                 value=@((ViewBag == null || ViewBag.model == null || ViewBag.model.WalletAddress == null) ? "" : ViewBag.model.WalletAddress )>
        </li>
        <li>
            <input type="submit" value="Refresh Balance" />
        </li>
        @if (ViewBag != null && ViewBag.model != null && ViewBag.model.Balance != null)
    {
        <li>
            <span class="success">Balance: @ViewBag.model.Balance</span>
        </li>
}


    </ul>
</form>

<hr />
<h3>Send Funds</h3>
<form action="/home/SendFundsAsync">
    <ul class="form-style-1">
        <li><label>Sender Id<span class="required">*</span></label><input type="text" name="SenderId" class="field-divided" placeholder="id123" /></li>
        <li><label>Destination address<span class="required">*</span></label><input type="text" name="DestinationAddress" class="field-divided" placeholder="0xXXXXXXX" /></li>
        <li><label>Amount<span class="required">*</span></label><input type="text" name="Amount" class="field-divided" placeholder="0" /></li>

        <li>
            <input type="submit" value="Submit" />
        </li>
    </ul>
</form>


<style type="text/css">
    .success {
        font: 15px "Lucida Sans Unicode", "Lucida Grande", sans-serif;
        font-weight: bold
    }
    .form-style-1 {
        margin: 10px auto;
        max-width: 400px;
        padding: 20px 12px 10px 20px;
        font: 13px "Lucida Sans Unicode", "Lucida Grande", sans-serif;
    }

        .form-style-1 li {
            padding: 0;
            display: block;
            list-style: none;
            margin: 10px 0 0 0;
            font-size: 12px;
        }

        .form-style-1 label {
  
            margin: 0 0 3px 0;
            padding: 0px;
            display: block;
            font-weight: bold;
        }

        .form-style-1 input[type=text],
        .form-style-1 input[type=date],
        .form-style-1 input[type=datetime],
        .form-style-1 input[type=number],
        .form-style-1 input[type=search],
        .form-style-1 input[type=time],
        .form-style-1 input[type=url],
        .form-style-1 input[type=email],
        textarea,
        select {
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            border: 1px solid #BEBEBE;
            padding: 7px;
            margin: 0px;
            -webkit-transition: all 0.30s ease-in-out;
            -moz-transition: all 0.30s ease-in-out;
            -ms-transition: all 0.30s ease-in-out;
            -o-transition: all 0.30s ease-in-out;
            outline: none;
        }

            .form-style-1 input[type=text]:focus,
            .form-style-1 input[type=date]:focus,
            .form-style-1 input[type=datetime]:focus,
            .form-style-1 input[type=number]:focus,
            .form-style-1 input[type=search]:focus,
            .form-style-1 input[type=time]:focus,
            .form-style-1 input[type=url]:focus,
            .form-style-1 input[type=email]:focus,
            .form-style-1 textarea:focus,
            .form-style-1 select:focus {
                -moz-box-shadow: 0 0 8px #88D5E9;
                -webkit-box-shadow: 0 0 8px #88D5E9;
                box-shadow: 0 0 8px #88D5E9;
                border: 1px solid #88D5E9;
            }

        .form-style-1 .field-divided {
            width: 49%;
        }

        .form-style-1 .field-long {
            width: 100%;
        }

        .form-style-1 .field-select {
            width: 100%;
        }

        .form-style-1 .field-textarea {
            height: 100px;
        }

        .form-style-1 input[type=submit], .form-style-1 input[type=button] {
            background: #4B99AD;
            padding: 8px 15px 8px 15px;
            border: none;
            color: #fff;
        }

            .form-style-1 input[type=submit]:hover, .form-style-1 input[type=button]:hover {
                background: #4691A4;
                box-shadow: none;
                -moz-box-shadow: none;
                -webkit-box-shadow: none;
            }

        .form-style-1 .required {
            color: red;
        }
</style>
